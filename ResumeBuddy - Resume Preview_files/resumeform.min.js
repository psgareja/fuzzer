function isAttributeVisible(e,t){return $(e.container).is(":visible")}function getReferAndPromotePopupVariantAjax(e){$.ajax({url:getReferAndPromotePopupVariant,type:"POST",data:{origin:e},beforeSend:function(){},success:function(e){"refer_and_promote"==e.refer_popup_variant?($("#referAndPromoteToEarnModal_refer_and_promote #rpe_referral_link_form_field").val(e.referral_link),$("#rpe_site_header > #referAndPromoteToEarnModal_refer_and_promote").modal("show")):"refer_only"==e.refer_popup_variant?($("#referAndPromoteToEarnModal_refer_only #rpe_referral_link_form_field").val(e.referral_link),$("#rpe_site_header > #referAndPromoteToEarnModal_refer_only").modal("show")):"out_of_credits"==e.refer_popup_variant&&($("#referAndPromoteToEarnModal_out_of_credits #rpe_referral_link_form_field").val(e.referral_link),$("#rpe_site_header > #referAndPromoteToEarnModal_out_of_credits").modal("show"))},complete:function(){},error:function(e){}})}function displayStrengths(e){var t=e.COMPLETENESS?e.COMPLETENESS:"N/A";$("#COMPLETENESS").find(".panel-body").html(""),$("#COMPLETENESS").find(".panel-body").html(t);var r=e.PROOFREADING?e.PROOFREADING:"N/A";$("#PROOFREADING").find(".panel-body").html(""),$("#PROOFREADING").find(".panel-body").html(r);var i=e.FORMATTING?e.FORMATTING:"N/A";$("#FORMATTING").find(".panel-body").html(""),$("#FORMATTING").find(".panel-body").html(i);var n=e.PROFESSIONALISM?e.PROFESSIONALISM:"N/A";$("#PROFESSIONALISM").find(".panel-body").html(""),$("#PROFESSIONALISM").find(".panel-body").html(n);var o=e["CONTENT APPROPRIATENESS"]?e["CONTENT APPROPRIATENESS"]:"N/A";$("#CONTENTAPPROPRIATENESS").find(".panel-body").html(""),$("#CONTENTAPPROPRIATENESS").find(".panel-body").html(o)}function toggleButtons(e="false"){var t=$(".wizard-active"),r=t.next("span"),i=(t.prev("span"),$("#next-button")),n=$("#previous-button"),o=$("#preview-button");return i[0].disabled=!1,n[0].disabled=!1,hideInternalPreviousButton(),hideInternalNextButton(),hideFinalizeSubmitButton(),o.show(),o.html('<i class="fa fa-eye" aria-hidden="true" style="padding-right: 5px;"></i>Preview'),o.addClass("preview-btn"),o.removeClass("btn-primary"),$(".premium-user-save-profile").hide(),"Personal Details"==t[0].innerText.trim()?($(".personal_details_head").show(),$(".resume-create").addClass("mob-section-top"),$(".permanent-addr-container").show(),$(".permanent_addr_box").removeClass("permanent-addr-border"),$("#skip-button").hide()):($("#mySidenav").is(":visible")&&("Education Details"==t[0].innerText.trim()&&$(".mobile-form-menu").scrollLeft(100),"Professional Details"==t[0].innerText.trim()&&$(".mobile-form-menu").scrollLeft(250)),$("#skip-button").show(),"Finalise"==t[0].innerText.trim()&&($("#mySidenav").is(":visible")&&$(".mobile-form-menu").scrollLeft(420),rbServiceFinalizeFormSubmitFlag&&($(".tq-button").show(),o.hide()),o.html("Save & Preview"),o.addClass("btn-primary"),o.removeClass("preview-btn hide"),$(".permanent-addr-container").hide(),$(".permanent_addr_box").addClass("permanent-addr-border"),$("#skip-button").hide()),$(".personal_details_head").hide(),$(".resume-create").removeClass("mob-section-top")),0==r.length?i.hide():i.show(),"true"===e&&o.hide(),"Additional Details"==t.find("a").first()[0].innerHTML?($("#mySidenav").is(":visible")&&$(".mobile-form-menu").scrollLeft(420),void toggleInternalButtons()):"Finalise"==t.find("a").first()[0].innerHTML?($("#mySidenav").is(":visible")&&$(".mobile-form-menu").scrollLeft(420),hideInternalNextButton(),void(rbFinalProfileSubmitFlag?($(".premium-user-save-profile").show(),o.hide(),$("#skip-button").hide(),i.hide()):(o.show(),i.hide()))):void 0}function hideInternalPreviousButton(){$("#previous-button").show(),$("#internal-previous-button").hide()}function showInternalPreviousButton(){$("#previous-button").hide(),$("#internal-previous-button").show()}function hideFinalizeSubmitButton(){$(".tq-button").hide()}function hideInternalNextButton(){$("#next-button").show(),$("#internal-next-button").hide()}function showInternalNextButton(){$("#next-button").hide(),$("#internal-next-button").show()}function toggleNextButton(){$(".grid-item-active").length!=currentIndex&&activeGridItems.length>0?($("#next-button").hide(),$("#internal-next-button").show()):($("#next-button").show(),$("#internal-next-button").hide())}function toggleInternalButtons(){isLastIndex=$("#isLastIndex").val(),isFirstIndex=$("#isFirstIndex").val(),selectedSectionCount=$("#selectedSectionCount").val(),"1"==isFirstIndex?(hideInternalPreviousButton(),$("#preview-button").hide(),$("#strong_section_checkbox_div").hide(),0==selectedSectionCount?hideInternalNextButton():showInternalNextButton()):"1"==isLastIndex?(showInternalNextButton(),showInternalPreviousButton()):selectedSectionCount>0?(showInternalNextButton(),showInternalPreviousButton()):(hideInternalNextButton(),hideInternalPreviousButton())}function openCollapsiblePanel(e){var t=$(e).parents("div.panel-collapse");0==t.length||t.hasClass("in")||t.addClass("in")}function confirmationWithTitle(e,t,r){BootstrapDialog.confirm({message:t,callback:r,title:e,btnCancelLabel:"No",btnOKLabel:"Yes",type:"type-default"})}function validateForm(e){getErrors(e);return e||(e=$("#resume-form")),data=e.data("yiiActiveForm"),$.each(data.attributes,function(){this.status=3}),e.yiiActiveForm("validate"),!e.find(".has-error").length}function getErrors(e){e||(e=$("#resume-form")),data=e.data("yiiActiveForm"),$.each(data.attributes,function(){this.status=3}),e.yiiActiveForm("validate");var t=e.find(".has-error");return errorStr="",t.length?($.each(t,function(){0!=$(this).find(".help-block").length&&(errorStr+=$(this).find(".help-block").html()+"<br/>",openCollapsiblePanel(this))}),errorStr):errorStr}function checkFormIsEmpty(e){e||(e=$("#resume-form")),data=e.data("yiiActiveForm");var t=!0;return $.each(data.attributes,function(){null!=this.value&&0!=this.value.length&&(t=!1)}),t}function removeAllFormAttributes(e){e||(e=$("#resume-form")),data=e.data("yiiActiveForm");var t=[];$.each(data.attributes,function(){t.push(this.id)}),$.each(t,function(){e.yiiActiveForm("remove",this)})}function fetchNextFormDataOnLeave(e,t,r){$.ajax({type:"POST",cache:!1,url:t.find("a").get(0).href,beforeSend:function(){addProgress()},success:function(r){try{$("#resume-main-form").html(r),$(e).toggleClass("wizard-active"),$(t).toggleClass("wizard-active"),toggleButtons(rbProfileViewFlag)}catch(e){krajeeDialog.alert(e)}},complete:function(){removeProgress()},error:function(e){krajeeDialog.alert(e.responseText)}})}var removeNode;function reEnableMoocCheckbox(e){return e.parentNode.parentNode.parentNode.parentNode.parentNode.classList.contains("moocs_certification")&&$("input[type=checkbox]:disabled").length&&$(":checkbox").each(function(){var t=$(this);if(t.is(":disabled")&&t.attr("value")==e.firstChild.textContent)return t.removeAttr("disabled"),!0}),!0}function navigateFromCurrentPage(e,t,r){saveFormData(e,t),fetchNextFormData(r,t)}function fetchNextFormData(e,t){$.ajax({type:"POST",cache:!1,url:e.href,beforeSend:function(){addProgress()},success:function(r){try{removeAllFormAttributes(t),$("#resume-main-form").html(r),$(".wizard-active").toggleClass("wizard-active"),$(e).parent().toggleClass("wizard-active"),toggleButtons(rbProfileViewFlag)}catch(e){krajeeDialog.alert(e)}},complete:function(){removeProgress()},error:function(e){krajeeDialog.alert(e.responseText)}})}function saveFormData(e,t){e||(e=$(".wizard-active")),t||(t=$("#resume-form")),$.ajax({type:"POST",cache:!1,data:t.serialize(),url:e.find("a").get(0).href,success:function(){},error:function(e){krajeeDialog.alert(e.responseText)}})}function loadAdditionalDetails(e,t){form=$("#resume-form"),"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave();var r=getErrors(form);if(""!=r){confirmationWithTitle("Do you really want to skip this section?",'There are errors in the form. Navigating from this form,without fixing them will result into loss of data.<br/> Do you really want to navigate from this page?<br/><br/>Errors :<br/><div class="error-summary">'+r,function(r){r&&fetchAdditionalDetails(e,form,t)})}else fetchAdditionalDetails(e,form,t);return!1}function fetchAdditionalDetails(e,t,r){if(r&&saveFormData(),gridActiveItems=$(".grid-item-active"),gridActiveItems.length>0){var i=new Array;$.each(gridActiveItems,function(){i.push(this.id)}),data="selectedCards="+btoa(JSON.stringify(i))}else data=$("form").serialize();$.ajax({url:additionalSectionUrl+"&flag="+e,type:"POST",data:data,beforeSend:function(){addProgress()},success:function(e){try{removeAllFormAttributes(t),$("#resume-main-form").html(e),toggleButtons(rbProfileViewFlag)}catch(e){krajeeDialog.alert(e)}},complete:function(){removeProgress()},error:function(e){krajeeDialog.alert(e.responseText)}})}window.getSlide=function(e){$("#myModal_customTemplatePreview .tpl-bundle").removeClass("gt-active").hide(),$("#myModal_customTemplatePreview .tpl-bundle#"+e).addClass("gt-active").show()},window.resetTemplatePopup=function(){$(".color-scheme-div").addClass("mob-hide"),$(".color-scheme-close").parent().parent().addClass("mob-hide"),$(".color-plate").addClass("group-310").removeClass("group-314"),$(".mobile-footer").addClass("top-shadow").removeClass("top-border"),$(".minus-cva").removeClass("mob-color-variants-area")},$(document).on("click","#next-button",function(){var e=$(".wizard-active").next("span");0!=e.length&&e.find("a").trigger("click"),toggleButtons(rbProfileViewFlag)}),$(document).on("click","#leave-button",function(){var e=$(".wizard-active"),t=e.next("span");0!=t.length&&fetchNextFormDataOnLeave(e,t,$("#resume-form"))}),$(document).on("click","#previous-button",function(){var e=$(".wizard-active").prev("span");0!=e.length&&e.find("a").trigger("click"),toggleButtons(rbProfileViewFlag),$("#internal-next-button").hide(),$("#next-button").show()}),$(document).on("click","#internal-next-button",function(){if(loadAdditionalDetails(1),isLastIndex=$("#isLastIndex").val(),"1"==isLastIndex){var e=$(".wizard-active"),t=e.next("span");e.toggleClass("wizard-active"),t.toggleClass("wizard-active")}}),$(document).on("click","#internal-previous-button",function(){var e=$(".wizard-active"),t=!1;if("Add Summary"==e.find("a").first()[0].innerHTML&&(t=!0),loadAdditionalDetails(0,t),t){var r=e.prev("span");e.toggleClass("wizard-active"),r.toggleClass("wizard-active")}}),$(document).on("change",".assistive-handler-project-details",function(){var e=$(this).parent().find(".assistive-project-details");$.ajax({url:assistiveAjaxUrl,type:"POST",data:{role_category:this.value,type:1},beforeSend:function(){addProgress(e)},success:function(t){e.html(t)},complete:function(){},error:function(e){krajeeDialog.alert(e.responseText)}})}),$(document).on("change",".assistive-handler-summary",function(){var e=$(this).parents().find(".assistive-summary");$.ajax({url:assistiveAjaxUrl,type:"POST",data:{role_category:this.value,type:2},beforeSend:function(){addProgress(e)},success:function(t){e.html(t),e.find("li").toggleClass("summary-item")},complete:function(){},error:function(t){krajeeDialog.alert(t.responseText),removeProgress(e)}})}),$(document).on("change",".assistive-handler-professional-details",function(){var e=$(this).parent(),t=e.find(".assistive-professional-details");$.ajax({url:assistiveAjaxUrl,type:"POST",data:{role_category:this.value,type:1},beforeSend:function(){addProgress(e)},success:function(e){t.html(e)},complete:function(){removeProgress(e)},error:function(e){krajeeDialog.alert(e.responseText)}})}),$(document).on("change","#word-cloud-handler",function(){var e=$(this).parent();$.ajax({url:wordCloudAjaxUrl,type:"POST",data:this.value,beforeSend:function(){addProgress(e)},success:function(e){$("#word-cloud").html(e)},error:function(e){krajeeDialog.alert(e.responseText)},complete:function(){removeProgress(e)}})}),$(document).on("click",".add_click",function(e){if(e.preventDefault(),!$(this).parent().find("li").hasClass("assistive-item-locked")){if($(this).parents().find(".assistive-summary").length>0)var t=$(this).parents();else t=$(this).closest("div.row");var r=t.find(".tinymce-editor");if(!r||0==r.length)return;var i=tinyMCE.get(r.prop("id")),n=i.getContent();if("Add Summary"!=$(".wizard-active")[0].innerText.trim())var o="<li>  "+$(this).parent().find("li").html()+"</li>\n";else o=$(this).parent().find("li").html()+"\n";i.setContent(n+o);var a=$("#tinymce-summary-id").prev().find("iframe").contents();a.scrollTop(a.height())}}),$(document).on("mouseover",".summary-item",function(e){e.preventDefault(),$(this).hasClass("assistive-item-locked")&&($(this).parent().children().first().find(".unlock-feature-micro-messaging").css("visibility","visible"),$(this).parent().parent().find(".unlock-feature-micro-lock").css("margin-left","48%"),$(this).parent().siblings().find(".unlock-feature-micro-messaging").css("visibility","hidden"),$(this).parent().children().first().css("margin-left","36%"))}),$(document).on("click",".summary-item",function(e){if(e.preventDefault(),$(this).hasClass("assistive-item-locked"))return $("#myModal_unlockPreview").modal("show"),!1}),$(document).on("click",".current_company",function(){var e=$(this).parents("div.row").find(".end_date");this.checked?(e.val(""),e.prop("disabled",!0)):e.prop("disabled",!1)}),$(document).on("click",".list-group-item",function(e){if(e.preventDefault(),$(this).parents("div.row")&&$(this).hasClass("assistive-item-locked"))return $("#myModal_unlockPreview").modal("show"),!1}),$(document).on("mouseover",".list-group-item",function(e){e.preventDefault(),$(this).hasClass("assistive-item-locked")&&!$(this).hasClass("summary-item")&&($(this).parent().children().first().find(".unlock-feature-micro-messaging").css("visibility","visible"),$(this).parent().parent().find(".unlock-feature-micro-lock").css("margin-left","45%"),$(this).parent().siblings().find(".unlock-feature-micro-messaging").css("visibility","hidden"),$(this).parent().children().first().css("margin-left","10%"),$(this).parent().find(".icon-credit_lock_glyphicon").css("left","5%"))}),$(document).on("click",".grid-item",function(){$(this).toggleClass("grid-item-active");var e=$(this).find("i");e.toggleClass("additional-icon-white"),e.toggleClass("additional-icon"),activeGridItems=$(".grid-item-active"),$("#selectedSectionCount").val(activeGridItems.length),toggleInternalButtons()}),$(document).on("click",".finalise-checkbox",function(e){$(this).closest(".panel").find(".finalise-checkbox").prop("checked",this.checked),$(".finalise-checkbox:checked").length>0?$("#next-button").prop("disabled",!1):$("#next-button").prop("disabled",!0),e.stopPropagation()}),$(document).on("click",".select-all-finalise",function(e){$(".finalise-checkbox").prop("checked",this.checked)}),$(document).on("click",".kv-editable-submit, .kv-editable-button, .kv-editable-input, .kv-editable-reset",function(e){return e.stopPropagation(),!1}),$(document).on("click",".resume-item-container .close",function(e){var t=this;return krajeeDialog.confirm("Do you really want to remove the section? Data entered will be lost.",function(e){e&&(t.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.remove(),reEnableMoocCheckbox(removeNode=t.parentNode))}),e.stopPropagation(),!1}),$(document).on("click",".resume-item-container .close-language",function(e){var t=this;return krajeeDialog.confirm("Do you really want to remove the section? Data entered will be lost.",function(e){e&&t.parentElement.parentNode.remove()}),e.stopPropagation(),!1}),$(document).on("click",".add-section-button",function(e){$(".resume-font").find('a:contains("Additional Details")').trigger("click")}),$(document).on("click",".premium-user-save-profile",function(){form=$("#resume-form");var e=$(".wizard-active"),t=form.serializeArray();t.push({name:"saveProfile",value:!0}),$.ajax({type:"POST",cache:!1,data:t,url:e.find("a").get(0).href,success:function(){},error:function(e){""!=e.responseText&&krajeeDialog.alert(e.responseText)}})}),$(document).on("click",".resume-font a",function(){var e=$("#resume-form"),t=$(".wizard-active"),r=this;"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave();var i=getErrors(e);if(null!=i&&""!=i){confirmationWithTitle("Do you want to skip this section?",'There are errors in the form. Navigating from this form,without fixing them will result into loss of data.<br/> Do you really want to navigate from this page?<br/><br/>Errors :<br/><div class="error-summary">'+i,function(i){i&&navigateFromCurrentPage(t,e,r)})}else navigateFromCurrentPage(t,e,r);return!1}),$(document).on("click","#preview-button",function(){"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave(),"Finalise"==$(".wizard-active").find("a").first()[0].innerHTML?$url=saveSectionsUrl:$url=previewSectionsUrl;var e=$("#resume-form");$.ajax({type:"POST",cache:!1,data:e.serialize(),url:$url,beforeSend:function(){addProgress()},success:function(e){$url==previewSectionsUrl&&BootstrapDialog.alert({size:BootstrapDialog.SIZE_WIDE,message:e,closable:!0,closeIcon:"",draggable:!0,title:"Section Preview"}),removeProgress()},error:function(e){""!=e.responseText&&krajeeDialog.alert(e.responseText)},complete:function(){}})}),$(document).on("click",".edit-button",function(e){var t=$(this).attr("href");if(1==$(".resume-font").find('a[href="'+t+'"]').length)$(".resume-font").find('a[href="'+t+'"]').trigger("click");else{var r=$("#resume-form");$.ajax({type:"POST",cache:!1,url:this.href,beforeSend:function(){addProgress()},success:function(e){try{removeAllFormAttributes(r),$("#resume-main-form").html(e),$(".wizard-active").toggleClass("wizard-active"),$(".resume-font").find('a:contains("Additional Details")').parent().toggleClass("wizard-active"),toggleButtons(rbProfileViewFlag)}catch(e){krajeeDialog.alert(e)}},complete:function(){removeProgress()},error:function(e){krajeeDialog.alert(e.responseText)}})}return e.stopPropagation(),!1}),window.tdiff=[],fred=function(e,t){return e-t},window.onload=function(e){setTimeout(function(){-1!=window.location.href.indexOf("template/render-template-new")&&0==rbProfileViewFlag_templateHolder&&$("#myModal_unlockPreview").modal("show").find("#myModalContent_unlockPreview").load($(this).attr("value")),"undefined"!=typeof eresume_isloaded&&!1!==eresume_isloaded||$("#myModal_resumePublishPage").modal("show").find("#myModalContent_resumePublishPage").load($(this).attr("value")),-1!==window.location.href.indexOf("template/publish")&&getReferAndPromotePopupVariantAjax("publish_page")},1e3)},$(document).on("click","#dashboard-btn-get-free-credits",function(e){getReferAndPromotePopupVariantAjax("site_header")}),$(document).ready(function(){var e=$(location).attr("href"),t=e.substr(e.lastIndexOf("/")+1);t.indexOf("render-template-new")>-1&&($(".resume-side-scroll-bar").addClass("wrap-template-content"),$(".resume-side-scroll-bar").find("div.render-template-2").addClass("hidden-xs"),$(".wrap").on("scroll",function(e){var t=e.target.scrollHeight-(e.target.offsetHeight+e.target.scrollTop+0),r=getComputedStyle($(".footer.navbar-inverse")[0]),i=parseInt(r.marginTop)?parseInt(r.marginTop):0;t<$(".footer.navbar-inverse")[0].offsetHeight+i?$(".preview-temp-holder").css("top",t-62+"px"):$(".preview-temp-holder").css("top","62px")})),t.indexOf("publish")>-1&&$(".resume-side-scroll-bar").addClass("wrap-template-content"),t.indexOf("update")>-1&&($(".resume-side-scroll-bar").addClass("wrap-resume-content"),$(".resume-side-scroll-bar").find("div.render-template-2").addClass("hidden-xs")),t.indexOf("template")>-1&&$(".dashboard-side-scroll-bar").addClass("choose-resume-template"),t.indexOf("faq")>-1&&$(".resume-side-scroll-bar").addClass("resume-content-faq"),t.indexOf("rb-service")>-1&&$(".header.navbar a.navbar-brand,.header.navbar ul#header-nav .btn.head-dash-btn").remove()});